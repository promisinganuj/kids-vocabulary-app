{"id":"kids-vocabulary-app-1at","title":"Environment Configuration \u0026 Secrets Management","description":"## Overview\nThe app mixes configuration approaches: .env files, hardcoded defaults, runtime-generated secrets. Need a clean config management approach for container deployment.\n\n## Tasks\n1. **Pydantic Settings** — Create a settings.py using pydantic-settings (BaseSettings) for typed, validated configuration with env var support\n2. **Required vs optional config** — SECRET_KEY, DATABASE_URL must be required in production; AZURE_OPENAI_* optional with graceful degradation\n3. **Environment profiles** — Support APP_ENV=development|staging|production with different defaults\n4. **Docker secrets support** — Support reading secrets from file paths (Docker/K8s secrets pattern): SECRET_KEY_FILE, DATABASE_URL_FILE\n5. **.env.example** - Comprehensive example file with all config options documented\n6. **Fail-fast on missing config** — App should refuse to start in production without required env vars instead of using insecure defaults\n\n## Acceptance Criteria\n- All configuration flows through pydantic Settings class\n- `APP_ENV=production` requires SECRET_KEY, DATABASE_URL\n- Docker secrets (file-based) are supported\n- .env.example documents every config option","status":"closed","priority":1,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:41:46Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T06:00:17Z","closed_at":"2026-02-22T06:00:17Z","close_reason":"Closed"}
{"id":"kids-vocabulary-app-3ll","title":"Add Structured Logging, Monitoring \u0026 Observability","description":"## Overview\nThe app has no structured logging, no metrics, no tracing. For a production container app, we need observability to debug issues, track performance, and monitor usage.\n\n## Tasks\n1. **Structured JSON logging** — Replace print statements and ad-hoc logging with Python structlog or loguru outputting JSON to stdout (container best practice)\n2. **Request logging middleware** — Log every request with method, path, status, duration, user_id\n3. **Prometheus metrics endpoint** — Add /metrics endpoint with: request count, latency histogram, active users, words studied, AI search count\n4. **Error tracking** — Add Sentry integration (optional, via SENTRY_DSN env var) for exception tracking\n5. **Correlation IDs** — Add X-Request-ID header to trace requests across logs\n6. **Health check enhancements** — Extend /health to check DB connectivity, disk space for SQLite, optional Redis/OpenAI connectivity\n\n## Acceptance Criteria\n- All logs are JSON-formatted to stdout\n- /metrics endpoint returns Prometheus-compatible metrics\n- Every request logged with duration and user context\n- Health check returns degraded status if optional services are down","status":"open","priority":2,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:41:36Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T05:41:36Z"}
{"id":"kids-vocabulary-app-66o","title":"UX: Modernize Frontend with Component Architecture","description":"## Overview\nThe frontend is monolithic Jinja2 templates with inline CSS/JS (flashcards.html alone is 2192 lines). For a polished public-facing app, we need a modern, maintainable UI.\n\n## Tasks\n1. **Extract static assets** — Move inline CSS to external stylesheets, JS to external scripts. Currently everything is embedded in HTML templates.\n2. **Add a CSS framework** — Adopt Tailwind CSS or Bootstrap 5 for consistent design system, responsive components, and reduced custom CSS\n3. **Base template** — Create a base.html with shared nav, footer, theme toggle, and toast notifications. All pages should extend this.\n4. **Responsive navigation** — Add a proper responsive navbar with: logo, menu items (Home, AI Learning, Manage, Profile), user dropdown, mobile hamburger menu\n5. **Loading states** — Add skeleton screens/spinners for API calls instead of blank screens while data loads\n6. **Toast notifications** — Replace alert() calls with elegant toast notifications for success/error feedback\n7. **Accessibility (a11y)** — Add ARIA labels, proper heading hierarchy, keyboard focus indicators, color contrast compliance (WCAG AA)\n8. **Static file serving** — Mount /static directory in FastAPI for CSS/JS/images instead of inlining everything\n\n## Why This Matters\n- 7700+ lines of inlined HTML/CSS/JS is unmaintainable\n- No shared layout means duplicated header/footer across 12 templates\n- No loading states create perceived slowness\n- Poor accessibility excludes users with disabilities\n\n## Acceptance Criteria\n- External CSS/JS files served from /static\n- Base template shared across all pages\n- Responsive on mobile/tablet/desktop\n- WCAG AA color contrast compliance\n- Lighthouse accessibility score 90+","status":"open","priority":2,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:42:10Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T05:42:10Z"}
{"id":"kids-vocabulary-app-9sh","title":"Security Hardening for Public-Facing App","description":"## Overview\nThe app uses hashlib for password hashing (not bcrypt/argon2), has no CSRF protection, no rate limiting, and generates SECRET_KEY at runtime. These must be fixed before public exposure.\n\n## Tasks\n1. **Use bcrypt or argon2** for password hashing — hashlib with salt is not secure for password storage. The code even has a comment 'bcrypt removed - using hashlib instead'. Put it back.\n2. **CSRF protection** — Add CSRF tokens to all forms (login, register, profile, word management). FastAPI has no built-in CSRF; use starlette-csrf or similar.\n3. **Secure SECRET_KEY** — Currently `secrets.token_hex(32)` is generated at runtime, meaning sessions invalidate on every restart. Must be a persistent env var.\n4. **HTTPS enforcement** — Add redirect middleware for HTTP→HTTPS in production\n5. **Security headers** — Add Content-Security-Policy, X-Frame-Options, X-Content-Type-Options, Strict-Transport-Security headers\n6. **Input validation hardening** — Validate/sanitize all user inputs (word, definition, example fields) to prevent XSS/injection\n7. **Password policy** — Enforce minimum length, complexity requirements on registration\n8. **Account lockout** — Lock account after N failed login attempts\n9. **Session security** — HttpOnly, Secure, SameSite cookie attributes; session expiry cleanup\n10. **Dependency audit** — Run pip-audit / safety check on requirements.txt\n\n## Acceptance Criteria\n- Passwords stored with bcrypt (cost factor 12+)\n- All forms have CSRF tokens\n- Security headers present on all responses\n- SECRET_KEY is required env var (app refuses to start without it)\n- `pip-audit` shows no known vulnerabilities","status":"open","priority":1,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:41:24Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T05:41:24Z"}
{"id":"kids-vocabulary-app-bjh","title":"Add Redis for Session Management \u0026 Caching","description":"## Overview\nCurrently sessions are stored in SQLite (user_sessions table) and Starlette's SessionMiddleware uses cookie-based sessions with a server-side secret. For a scalable multi-replica deployment, we need centralized session storage.\n\n## Tasks\n1. **Add Redis container** to docker-compose for session storage and caching\n2. **Replace SessionMiddleware** with Redis-backed session store (e.g., fastapi-sessions with Redis backend)\n3. **Cache frequently accessed data** - Base vocabulary (3,738 words) is read-heavy and rarely changes; cache with TTL\n4. **Cache AI suggestions** - OpenAI API calls are expensive; cache word definitions for reuse across users\n5. **Rate limiting** - Use Redis for API rate limiting (especially AI search endpoint to control Azure OpenAI costs)\n\n## Why This Matters\n- Multiple container replicas cannot share in-memory sessions\n- Base vocabulary is static data loaded on every user login — perfect cache candidate\n- Azure OpenAI calls are $$$ — caching saves real money\n- Rate limiting protects against abuse on a public-facing app\n\n## Acceptance Criteria\n- Sessions persist across container restarts\n- Multiple replicas share session state via Redis\n- Base vocabulary cached with 1-hour TTL\n- AI word search results cached for 24 hours\n- Rate limiting: 10 AI searches per user per minute","status":"open","priority":2,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:41:09Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T05:41:09Z"}
{"id":"kids-vocabulary-app-cmh","title":"UX: Progressive Web App (PWA) \u0026 Offline Support","description":"## Overview\nStudents often study on mobile and may have intermittent connectivity. A PWA would allow offline flashcard review and app-like experience on phones.\n\n## Tasks\n1. **Service Worker** — Cache static assets and vocabulary data for offline access\n2. **Web App Manifest** — manifest.json with app name, icons, theme color, display: standalone\n3. **Offline flashcard review** — Cache user's vocabulary in IndexedDB/localStorage, sync when back online\n4. **Install prompt** — 'Add to Home Screen' banner on mobile browsers\n5. **Push notifications** — Optional study reminders ('Time for your daily vocabulary review!')\n6. **App shell architecture** — Cache the app shell (nav, layout) for instant loading\n\n## Why This Matters\n- Kids primarily use phones/tablets\n- Offline study during commute/breaks without wifi\n- 'Add to home screen' makes it feel like a native app\n- Push notifications drive daily engagement\n\n## Acceptance Criteria\n- Lighthouse PWA score 90+\n- App works offline for flashcard review\n- Installable on Android/iOS home screen\n- Study data syncs when connectivity returns","status":"open","priority":3,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:42:37Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T05:42:37Z"}
{"id":"kids-vocabulary-app-i91","title":"UX: Enhanced Gamification \u0026 Student Engagement","description":"## Overview\nThe app has basic study sessions and mastery tracking, but for a kids' vocabulary app to retain users, it needs engaging gamification mechanics.\n\n## Tasks\n1. **Streak tracking** — Daily study streaks with visual flame/calendar indicator. Show 'N day streak!' prominently on dashboard. Store last_study_date per user.\n2. **Achievement badges** — Unlock badges for milestones: First Word, 100 Words Mastered, 7-Day Streak, Perfect Session, etc. Display in profile.\n3. **Leaderboard** — Optional school/class leaderboard showing words mastered, streaks, accuracy. Use existing like_count infrastructure for social engagement.\n4. **Progress dashboard** — Visual dashboard with: words learned over time chart, accuracy trend, difficulty distribution pie chart, study time heatmap (like GitHub contributions)\n5. **Spaced repetition algorithm** — Replace simple mastery_level counter with SM-2 or Leitner system. Words due for review should appear first. Use times_reviewed, times_correct, last_reviewed fields that already exist.\n6. **Sound effects \u0026 micro-animations** — Satisfying sounds for correct answers, card flips, level-ups. Confetti animation for session completion.\n7. **Custom word lists/decks** — Allow users to create named word lists (e.g., 'Science Terms', 'SAT Prep') and study specific decks\n\n## Why This Matters\n- Kids lose interest without engaging feedback loops\n- Spaced repetition is scientifically proven for vocabulary retention\n- Social features (leaderboard, likes) drive continued engagement\n- The existing mastery tracking (New→Learning→Mastered) is too simplistic\n\n## Acceptance Criteria\n- Streak counter visible on main dashboard\n- At least 10 achievement badges implemented\n- Spaced repetition scheduling for word reviews\n- Progress charts on profile/dashboard page","status":"open","priority":3,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:42:28Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T05:42:28Z"}
{"id":"kids-vocabulary-app-myj","title":"Graceful Shutdown, Liveness \u0026 Container Orchestration","description":"## Overview\nFor Kubernetes/Docker Swarm deployment with scaling, the app needs proper signal handling, liveness/readiness probes, and graceful shutdown.\n\n## Tasks\n1. **Graceful shutdown** — Handle SIGTERM signal to finish in-flight requests before stopping (uvicorn --timeout-graceful-shutdown)\n2. **Readiness probe** — /ready endpoint that returns 503 during startup until DB is connected and base vocab is loaded\n3. **Liveness probe** — Existing /health endpoint, ensure it doesn't do expensive checks\n4. **Startup probe** — For slow initialization (DB migrations, base vocab loading)\n5. **Kubernetes manifests** — Deployment, Service, ConfigMap, Secret, PersistentVolumeClaim, HorizontalPodAutoscaler\n6. **Resource limits** — Define CPU/memory requests and limits\n7. **Horizontal Pod Autoscaler** — Scale based on CPU/request count\n8. **Pod Disruption Budget** — Ensure minimum replicas during updates\n\n## Acceptance Criteria\n- Graceful shutdown completes in-flight requests within 30s\n- /ready returns 503 until app is fully initialized\n- K8s manifests or Helm chart for deployment\n- HPA configured to scale 2-10 replicas","status":"open","priority":2,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:43:15Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T05:43:15Z"}
{"id":"kids-vocabulary-app-nmu","title":"UX: Onboarding Flow \u0026 Landing Page","description":"## Overview\nNew users currently see a login page. For a public-facing app, we need a compelling landing page and smooth onboarding to convert visitors into active learners.\n\n## Tasks\n1. **Landing page** — Public marketing page with: app description, feature highlights, sample flashcard demo, screenshots, CTA to register\n2. **Guided onboarding** — After registration: welcome screen → select grade level → choose vocabulary difficulty → quick tutorial of flashcard interface → first study session auto-starts\n3. **Sample mode** — Allow unregistered visitors to try 10 flashcards without signing up (convert to sign-up after)  \n4. **Email verification flow** — Currently email_verified column exists but isn't used. Implement verification emails or remove the pretense.\n5. **Forgot password improvement** — Current forgot_password.html and reset_password.html exist but need email delivery integration (SendGrid/SES or similar)\n6. **Social proof** — Show stats on landing page: 'N students learning', 'N words mastered'\n\n## Why This Matters\n- First impression drives sign-ups for a public app\n- Kids need guided experience, not dumped into a login screen\n- Try-before-you-buy (sample mode) dramatically improves conversion\n- Broken email flows (verification, password reset) destroy trust\n\n## Acceptance Criteria\n- Landing page at / for unauthenticated users\n- 3-step onboarding wizard for new registrations\n- Sample flashcard mode without login\n- Password reset sends actual emails (via configurable provider)","status":"open","priority":2,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:43:03Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T05:43:03Z"}
{"id":"kids-vocabulary-app-ttq","title":"API Refactoring: Async Database \u0026 Error Handling","description":"## Overview\nThe FastAPI app uses synchronous SQLite calls in async endpoints, defeating the purpose of async. Error handling is inconsistent. The monolithic 1407-line app file needs modularization.\n\n## Tasks\n1. **Async database operations** — Use aiosqlite or SQLAlchemy async sessions to avoid blocking the event loop on DB calls\n2. **Router modularization** — Split fastapi_web_flashcards.py (1407 lines) into routers: auth_router, words_router, ai_router, admin_router, pages_router\n3. **Consistent error handling** — Add FastAPI exception handlers for common errors (404, 422, 500). Currently some endpoints return dicts, some raise HTTPException inconsistently.\n4. **Response models** — Define Pydantic response models for all API endpoints for type safety and auto-documentation\n5. **Dependency injection cleanup** — Consolidate auth dependencies, add DB session dependency\n6. **API versioning** — Prefix API routes with /api/v1/ for future compatibility\n7. **OpenAPI documentation** — Add descriptions, tags, and examples to all endpoints for the auto-generated /docs\n\n## Acceptance Criteria\n- No synchronous DB calls in async endpoints\n- App split into 5+ router modules\n- All API endpoints have Pydantic response models\n- /docs page has organized, documented endpoints\n- Consistent error response format across all endpoints","status":"open","priority":2,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:42:50Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T05:42:50Z"}
{"id":"kids-vocabulary-app-uot","title":"Clean Up Legacy Code \u0026 Repository Hygiene","description":"## Overview\nThe repo has significant tech debt: dual Flask/FastAPI implementations, an archive/ directory with old code, duplicate database_manager.py files, and an empty vocabulary.db in the root.\n\n## Tasks\n1. **Remove Flask implementation** — Delete web_flashcards.py, flask_start_app.sh, auth.py (Flask-specific). FastAPI is the chosen framework.\n2. **Clean archive/** — Either remove entirely or move to a separate branch. It contains outdated scripts, duplicate Dockerfiles, and deployment configs that conflict with current code.\n3. **Remove root vocabulary.db** — Empty 0-byte file in project root is confusing (data lives in app/data/)\n4. **Consolidate database_manager.py** — There are copies in app/ and archive/scripts/. Keep only the app/ version.\n5. **Remove duplicate imports** — database_manager.py has duplicate imports: `import secrets` and `from datetime import datetime, timedelta` appear twice\n6. **Update requirements.txt** — Remove Flask/gunicorn/Werkzeug if fully migrating to FastAPI. Pin all versions with ==.\n7. **Add .editorconfig** — Consistent formatting across contributors\n8. **Update README.md** — Reflect FastAPI-only architecture, container deployment, remove Flask references\n\n## Acceptance Criteria\n- No Flask code in app/ directory\n- archive/ moved or deleted\n- No duplicate files or imports\n- README reflects current architecture\n- requirements.txt has only needed dependencies","status":"closed","priority":3,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:43:28Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T05:51:01Z","closed_at":"2026-02-22T05:51:01Z","close_reason":"Closed"}
{"id":"kids-vocabulary-app-w84","title":"Production Dockerfile \u0026 Container Build Pipeline","description":"## Overview\nThe existing Dockerfile is incomplete (no CMD instruction, references Flask instead of FastAPI) and not production-ready.\n\n## Tasks\n1. **Fix Dockerfile** - Add proper CMD for uvicorn/gunicorn with FastAPI, use multi-stage build to reduce image size\n2. **Add .dockerignore** - Exclude .git, .venv, archive/, seed-data/, .beads/, __pycache__\n3. **Add docker-compose.yml** - Define service with proper volumes for data persistence, env vars, health check\n4. **Add gunicorn with uvicorn workers** - For production ASGI serving (multiple workers for concurrency)\n5. **Container health check** - Leverage existing /health endpoint in HEALTHCHECK instruction\n6. **Non-root user** - Run container as non-root for security\n7. **Pin base image digest** - Use python:3.11-slim with SHA digest for reproducibility\n\n## Acceptance Criteria\n- `docker build` produces a working image under 200MB\n- `docker-compose up` starts the app with persistent data volume\n- Health check is functional\n- Container runs as non-root user","status":"in_progress","priority":1,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:40:43Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T06:34:23Z"}
{"id":"kids-vocabulary-app-xn7","title":"Replace SQLite with PostgreSQL for Scalability","description":"## Overview\nThe app currently uses SQLite which is a single-file database unsuitable for concurrent multi-user production workloads. For a scalable container app, we need a proper client-server database.\n\n## Tasks\n1. **Add SQLAlchemy ORM layer** - Replace raw sqlite3 calls in database_manager.py (2691 lines) with SQLAlchemy models and async sessions\n2. **PostgreSQL support** - Add asyncpg/psycopg2 driver, configure DATABASE_URL env var\n3. **Alembic migrations** - Set up schema migration framework instead of ad-hoc `update_schema_if_needed()`\n4. **Connection pooling** - Configure SQLAlchemy connection pool for concurrent access\n5. **Docker Compose database service** - Add PostgreSQL container with persistent volume\n6. **Keep SQLite as dev fallback** - DATABASE_URL=sqlite:///... for local development\n7. **Data migration script** - Migrate existing SQLite data to PostgreSQL\n\n## Why This Matters\n- SQLite locks entire DB on writes — single writer, no concurrent write scaling\n- No connection pooling — each request opens/closes file\n- Cannot run multiple container replicas against same SQLite file\n- PostgreSQL supports horizontal read scaling and proper ACID with concurrent writers\n\n## Acceptance Criteria\n- App connects to PostgreSQL in production via DATABASE_URL\n- Connection pooling is configured (min 5, max 20 connections)\n- Alembic migration for all 12 tables\n- SQLite still works for local dev","status":"open","priority":1,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:40:57Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T05:40:57Z"}
{"id":"kids-vocabulary-app-yng","title":"Add Comprehensive Test Suite","description":"## Overview\nThe app has no test suite. For production deployment, we need tests to ensure reliability during deployments and refactoring.\n\n## Tasks\n1. **pytest setup** — Add pytest, pytest-asyncio, httpx (for FastAPI TestClient) to dev dependencies\n2. **Unit tests for DatabaseManager** — Test all CRUD operations, user management, study sessions, word review logic\n3. **API integration tests** — Test all FastAPI endpoints with TestClient: auth flow, word CRUD, AI search, admin\n4. **Auth tests** — Registration, login, logout, session management, password reset, admin access control\n5. **Test fixtures** — SQLite in-memory DB for tests, factory functions for test users/words\n6. **CI pipeline** — GitHub Actions workflow: lint (ruff/flake8), test, build docker image on PR\n7. **Coverage target** — Aim for 80%+ code coverage on database_manager.py and API routes\n\n## Acceptance Criteria\n- `pytest` runs and passes with 50+ test cases\n- CI pipeline runs on every PR\n- Coverage report generated\n- Docker image builds successfully in CI","status":"open","priority":2,"issue_type":"task","owner":"11286537+promisinganuj@users.noreply.github.com","created_at":"2026-02-22T05:41:57Z","created_by":"Anuj Parashar","updated_at":"2026-02-22T05:41:57Z"}
